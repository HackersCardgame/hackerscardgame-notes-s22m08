(()=>{"use strict";"localhost"===window.location.hostname||window.guardian.config.frontendAssetsFullURL;const e="dotcom.performance",t=e=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e],r=(e,t,r)=>{const n=1!==t;switch(e){case"s":return r?" seconds ago":"s ago";case"m":return r&&n?" minutes ago":r?" minute ago":"m ago";case"h":return r&&n?" hours ago":r?" hour ago":"h ago";case"d":return r?" days ago":"d ago"}},n=(e,n)=>{var a;const o=new Date(e),s=new Date,i=null==n?void 0:n.verbose,u=null!==(a=null==n?void 0:n.daysUntilAbsolute)&&void 0!==a?a:7,l=Math.floor((s.getTime()-o.getTime())/1e3),c=l<15,d=l<55,g=l<3300,m=(e=>{const t=new Date;return e.getTime()>t.getTime()-864e5})(o),w=(e=>{const t=new Date,r=new Date;return r.setDate(t.getDate()-1),e.toDateString()===r.toDateString()})(o),h=l<24*u*60*60;if(l<0)return!1;if(c)return"now";if(d)return`${l}${r("s",l,i)}`;if(g){const e=Math.round(l/60);return`${e}${r("m",e,i)}`}if(m){const e=Math.round(l/3600);return`${e}${r("h",e,i)}`}if(w&&i)return`Yesterday ${(f=o).getHours()}.${M=f.getMinutes(),M.toString().padStart(2,"0")}`;if(h){const e=Math.round(l/3600/24);return`${e}${r("d",e,i)}`}return[o.getDate(),i?(v=o.getMonth(),["January","February","March","April","May","June","July","August","September","October","November","December"][v]):t(o.getMonth()),o.getFullYear()].join(" ");var v,f,M},a=e=>{if(e instanceof HTMLElement){const{relativeformat:t}=e.dataset,r=e.getAttribute("datetime");if(!r||!t)return;let a;switch(t){case"short":case"med":a=n(new Date(r).getTime(),{verbose:!1});break;case"long":a=n(new Date(r).getTime(),{verbose:!0})}const o=e.innerText;a&&a!==o&&(e.innerHTML=a)}},o=()=>{document.querySelectorAll("time[data-relativeformat]").forEach(a)};((t,r,n)=>{const a=()=>{((t,r)=>{const{start:n,end:a}=(t=>{const r=window.performance,n=`${e}.${t}-start`,a=`${e}.${t}-end`;return"getEntriesByName"in r?{start:()=>{var e,t;const{startTime:a=-1}=null!==(e=null!==(t=r.mark(n))&&void 0!==t?t:r.getEntriesByName(n,"mark")[0])&&void 0!==e?e:{};return Math.ceil(a)},end:()=>{var e,o;r.mark(a);const{duration:s=-1}=null!==(e=null!==(o=r.measure(t,n,a))&&void 0!==o?o:r.getEntriesByName(t,"measure")[0])&&void 0!==e?e:{};return Math.ceil(s)},clear:()=>{r.clearMarks(n),r.clearMarks(a),r.clearMeasures(t)}}:{start:()=>-1,end:()=>-1,clear:()=>{}}})(t);n(),r().then((()=>{a()})).catch((()=>{a()}))})("relativeTime",n.bind(null,null))};window.guardian.mustardCut||window.guardian.polyfilled?a():window.guardian.queue.push(a)})(0,0,(()=>(o(),window.setInterval((()=>{o()}),15e3),Promise.resolve())))})();
//# sourceMappingURL=relativeTime.58859bce51343e452052.js.map