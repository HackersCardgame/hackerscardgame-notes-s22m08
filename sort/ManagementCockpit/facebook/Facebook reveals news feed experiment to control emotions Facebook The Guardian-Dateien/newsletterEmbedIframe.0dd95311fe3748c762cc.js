(()=>{"use strict";"localhost"===window.location.hostname||window.guardian.config.frontendAssetsFullURL;const e="dotcom.performance",t=["https://www.theguardian.com"];((t,n,r)=>{const o=()=>{((t,n)=>{const{start:r,end:o}=(t=>{const n=window.performance,r=`${e}.${t}-start`,o=`${e}.${t}-end`;return"getEntriesByName"in n?{start:()=>{var e,t;const{startTime:o=-1}=null!==(e=null!==(t=n.mark(r))&&void 0!==t?t:n.getEntriesByName(r,"mark")[0])&&void 0!==e?e:{};return Math.ceil(o)},end:()=>{var e,a;n.mark(o);const{duration:i=-1}=null!==(e=null!==(a=n.measure(t,r,o))&&void 0!==a?a:n.getEntriesByName(t,"measure")[0])&&void 0!==e?e:{};return Math.ceil(i)},clear:()=>{n.clearMarks(r),n.clearMarks(o),n.clearMeasures(t)}}:{start:()=>-1,end:()=>-1,clear:()=>{}}})(t);r(),n().then((()=>{o()})).catch((()=>{o()}))})("newsletterEmbedIframe",r.bind(null,null))};window.guardian.mustardCut||window.guardian.polyfilled?o():window.guardian.queue.push(o)})(0,0,(()=>{const e=[].slice.call(document.querySelectorAll(".email-sub__iframe"));return e.forEach((e=>{e&&e.contentWindow&&e.contentWindow.postMessage("resize","https://www.theguardian.com")})),window.addEventListener("message",(n=>{if(!t.includes(n.origin))return;const r=e.filter((e=>{try{if(null!==e.contentWindow&&null!==n.source)return e.contentWindow===n.source}catch(e){return!1}return!1}));if(0!==r.length)try{const e=JSON.parse(n.data);if(!(e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype})(e)||"string"!=typeof e.type)return;"set-height"===e.type&&r.forEach((t=>{if("number"==typeof e.value)t.height=`${e.value}`;else if("string"==typeof e.value){const n=parseInt(e.value,10);Number.isInteger(n)&&(t.height=`${n}`)}}))}catch(e){}})),Promise.resolve()}))})();
//# sourceMappingURL=newsletterEmbedIframe.0dd95311fe3748c762cc.js.map