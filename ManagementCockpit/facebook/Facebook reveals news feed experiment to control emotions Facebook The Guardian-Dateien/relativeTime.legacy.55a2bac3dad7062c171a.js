(()=>{"use strict";"localhost"===window.location.hostname||"".concat(window.guardian.config.frontendAssetsFullURL,"assets/");var e,t,n="dotcom.performance",r=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]},a=function(e,t,n){var r=1!==t;switch(e){case"s":return n?" seconds ago":"s ago";case"m":return n&&r?" minutes ago":n?" minute ago":"m ago";case"h":return n&&r?" hours ago":n?" hour ago":"h ago";case"d":return n?" days ago":"d ago"}},o=function(e,t){var n,o,i,u,c=new Date(e),s=new Date,l=null==t?void 0:t.verbose,d=null!==(n=null==t?void 0:t.daysUntilAbsolute)&&void 0!==n?n:7,f=Math.floor((s.getTime()-c.getTime())/1e3),g=f<15,m=f<55,v=f<3300,w=(o=c,i=new Date,o.getTime()>i.getTime()-864e5),h=function(e){var t=new Date,n=new Date;return n.setDate(t.getDate()-1),e.toDateString()===n.toDateString()}(c),M=f<24*d*60*60;if(f<0)return!1;if(g)return"now";if(m)return"".concat(f).concat(a("s",f,l));if(v){var D=Math.round(f/60);return"".concat(D).concat(a("m",D,l))}if(w){var b=Math.round(f/3600);return"".concat(b).concat(a("h",b,l))}if(h&&l)return"Yesterday".concat(function(e){return" ".concat(e.getHours(),".").concat(e.getMinutes().toString().padStart(2,"0"))}(c));if(M){var y=Math.round(f/3600/24);return"".concat(y).concat(a("d",y,l))}return[c.getDate(),l?(u=c.getMonth(),["January","February","March","April","May","June","July","August","September","October","November","December"][u]):r(c.getMonth()),c.getFullYear()].join(" ")},i=function(e){if(e instanceof HTMLElement){var t,n=e.dataset.relativeformat,r=e.getAttribute("datetime");if(!r||!n)return;switch(n){case"short":case"med":t=o(new Date(r).getTime(),{verbose:!1});break;case"long":t=o(new Date(r).getTime(),{verbose:!0})}var a=e.innerText;t&&t!==a&&(e.innerHTML=t)}},u=function(){document.querySelectorAll("time[data-relativeformat]").forEach(i)};e=function(){return u(),window.setInterval((function(){u()}),15e3),Promise.resolve()},t=function(){!function(e,t){var r=function(e){var t=window.performance,r="".concat(n,".").concat(e,"-start"),a="".concat(n,".").concat(e,"-end");return"getEntriesByName"in t?{start:function(){var e,n,a=(null!==(e=null!==(n=t.mark(r))&&void 0!==n?n:t.getEntriesByName(r,"mark")[0])&&void 0!==e?e:{}).startTime,o=void 0===a?-1:a;return Math.ceil(o)},end:function(){var n,o;t.mark(a);var i=(null!==(n=null!==(o=t.measure(e,r,a))&&void 0!==o?o:t.getEntriesByName(e,"measure")[0])&&void 0!==n?n:{}).duration,u=void 0===i?-1:i;return Math.ceil(u)},clear:function(){t.clearMarks(r),t.clearMarks(a),t.clearMeasures(e)}}:{start:function(){return-1},end:function(){return-1},clear:function(){}}}(e),a=r.start,o=r.end;a(),t().then((function(){o()})).catch((function(){o()}))}("relativeTime",e.bind(null,null))},window.guardian.mustardCut||window.guardian.polyfilled?t():window.guardian.queue.push(t)})();
//# sourceMappingURL=relativeTime.legacy.55a2bac3dad7062c171a.js.map