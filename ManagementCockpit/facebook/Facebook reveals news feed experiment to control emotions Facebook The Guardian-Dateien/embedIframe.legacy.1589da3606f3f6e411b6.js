(()=>{"use strict";"localhost"===window.location.hostname||"".concat(window.guardian.config.frontendAssetsFullURL,"assets/");var e,t,n="dotcom.performance";e=function(){return".js-embed__iframe",e=[].slice.call(document.querySelectorAll(".js-embed__iframe")),window.addEventListener("message",(function(t){var n=e.find((function(e){try{return e.name===t.source.name}catch(e){return!1}}));if(n)try{var r=JSON.parse(t.data);"set-height"===r.type&&(n.height=r.value)}catch(e){}})),e.forEach((function(e){var t=(e.getAttribute("srcdoc")||"").replace(/<gu-script>/g,"<script>").replace(/<\/gu-script>/g,"<\/script>");e.setAttribute("srcdoc",t)})),Promise.resolve();var e},t=function(){!function(e,t){var r=function(e){var t=window.performance,r="".concat(n,".").concat(e,"-start"),a="".concat(n,".").concat(e,"-end");return"getEntriesByName"in t?{start:function(){var e,n,a=(null!==(e=null!==(n=t.mark(r))&&void 0!==n?n:t.getEntriesByName(r,"mark")[0])&&void 0!==e?e:{}).startTime,c=void 0===a?-1:a;return Math.ceil(c)},end:function(){var n,c;t.mark(a);var i=(null!==(n=null!==(c=t.measure(e,r,a))&&void 0!==c?c:t.getEntriesByName(e,"measure")[0])&&void 0!==n?n:{}).duration,o=void 0===i?-1:i;return Math.ceil(o)},clear:function(){t.clearMarks(r),t.clearMarks(a),t.clearMeasures(e)}}:{start:function(){return-1},end:function(){return-1},clear:function(){}}}(e),a=r.start,c=r.end;a(),t().then((function(){c()})).catch((function(){c()}))}("embedIframe",e.bind(null,null))},window.guardian.mustardCut||window.guardian.polyfilled?t():window.guardian.queue.push(t)})();
//# sourceMappingURL=embedIframe.legacy.1589da3606f3f6e411b6.js.map